/*
 * This file was generated by the Gradle 'init' task.
 */

plugins {
    id 'java'
    id 'maven-publish'
}

repositories {
    mavenLocal()
    maven {
        url = 'http://repo.maven.apache.org/maven2'
    }
}

sourceSets {
    main {
        java {
            srcDir 'src/main/java'
            //resources.srcDir file('scr/main/resource')
        }
    }
    test {
        java.srcDir file('src/test/java')
        //resources.srcDir file('scr/test/resource')
        compileClasspath = sourceSets.main.output + configurations.testRuntime
        runtimeClasspath = output + compileClasspath
    }
}

dependencies {
    compile 'junit:junit:3.8.1'
    compile 'io.rest-assured:rest-assured:3.2.0'
    compile 'io.rest-assured:json-path:3.2.0'
    compile 'io.rest-assured:json-schema-validator:3.2.0'
    compile 'org.testng:testng:6.8'
    compile 'com.github.scribejava:scribejava-apis:2.5.3'
    compile 'com.github.scribejava:scribejava-core:2.5.3'
    compile 'org.apache.logging.log4j:log4j-api:2.11.1'
    compile 'org.apache.logging.log4j:log4j-core:2.11.1'
    compile 'com.aventstack:extentreports:3.1.5'
    compile 'com.relevantcodes:extentreports:2.41.2'
    compile 'org.json:json:20180813'
    compile 'com.github.javafaker:javafaker:0.16'
    compile 'org.yaml:snakeyaml:1.20'
    compile 'com.amazonaws:aws-java-sdk-s3:1.11.516'
}

group = 'ServiceLayer'
version = '1.0-SNAPSHOT'
description = 'TwitterProject'
sourceCompatibility = '1.8'

publishing {
    publications {
        maven(MavenPublication) {
            from(components.java)
        }
    }
}

task E2E(type: Test) {
    useTestNG() {
        outputDirectory = file("$project.buildDir/testngOutput")
        useDefaultListeners = true
        suiteXmlFiles << new File("src/test/suite/testng.xml")
        setSuiteXmlFiles(suiteXmlFiles)
    }
    testLogging {
        exceptionFormat "full"
        events "started", "passed", "skipped", "failed", "standardOut", "standardError"
        minGranularity 0
    }
    reports.html.enabled = true
}

